<!-- rostest launch file for Python scheduler and requester tests

     This unit test uses rostest, because the scheduler request
     interface requires a ROS environment.  
-->

<launch>

  <!-- start scheduler Python node  -->
  <node pkg="scheduler_request_manager" type="dummy_sched.py"
        name="dummy_scheduler" />

  <!-- start requester Python node -->
  <node pkg="scheduler_request_manager" type="dummy_req.py"
        name="dummy_requester" />

  <!-- Check that /rocon_scheduler requests are sent regularly.
       Normally 0.25 Hz, the rate is set at 1 Hz to speed up the test. -->
  <test test-name="request_hz_test"
        pkg="rostest" type="hztest" name="empty_request_test" >
    <param name="hz" value="1.0" />
    <param name="hzerror" value="0.75" />
    <param name="test_duration" value="4.0" />    
    <param name="topic" value="rocon_scheduler" />
    <param name="wait_time" value="1.0" />
  </test>

</launch>
